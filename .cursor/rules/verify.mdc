---
description: Always test changes after each step
globs:
alwaysApply: true
---
After each incremental code change

* Run "xmake" to check that everything still compiles
  - If any compilation errors occur, fix them before doing anything else.

* Run "xmake run format" to automatically reformat the code (this step should always succeed).
  - Reread the affected files after formatting as they may have changed.

* Run "xmake run lint" to lint the code to enforce style and invariants.
  - If linters fix things automatically, reread the files.
  - If any lint errors remain, fix those errors before moving on.

* Run "xmake test" to ensure all tests pass.
  - If tests fail, run xmake test -v for verbose output and fix any detected bugs.
